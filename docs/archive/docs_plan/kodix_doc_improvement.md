# Kodix Documentation – Updated Improvement Suggestions (v2)

> **Scope:** Incorporates best‑practices from *Modern Docs Claude* to push the Kodix `docs/` ecosystem toward AI‑first, living documentation excellence.

---

## 1. Executive Summary
Your current documentation has a solid backbone (architecture guides, CLAUDE.md, database docs), but still lacks **AI‑consumable depth, domain granularity and automated quality gates**. Building on the *Modern Docs Claude* playbook, focus on **AI‑first structuring**, **documentation‑driven workflows** and **continuous verification**. The end‑state is a `/docs` that serves humans *and* Claude Code equally well, fuels PRP generation, and evolves automatically with the codebase.

---

## 2. New Key Recommendations (Derived from *Modern Docs Claude*)

### 2.1 AI‑First Folder Extensions
| Path | Purpose |
|------|---------|
| `/docs/features/<feature>` | Domain‑driven docs per feature (e.g., user‑auth, dashboard) |
| `/docs/prps/{templates,active,archive}` | Version‑controlled Product Requirement Prompts |
| `/docs/api/trpc` | tRPC route docs autogenerated from routers |
| `/docs/api/schemas` | Zod schemas exported as JSON Schema + OpenAPI |
| `.claude.md` | Root context file for Claude Code containing stack, patterns, workflows |

### 2.2 Documentation‑Driven Development (DDD) Workflow
1. **Document first** – write/update PRP & ADR **before** coding.  
2. **Stakeholder review** – merge docs via PR.  
3. **Test‑ & code‑driven implementation** aligned with approved docs.  
4. **Auto‑update living docs** in CI after merge.

### 2.3 Living Documentation & Automation
- Auto‑generate **OpenAPI 3.1** from zod/tRPC.  
- Run **doctest/Jest** on code blocks inside Markdown.  
- Lint docs with **Vale + Markdownlint**; validate links & code fences.  
- Fail CI if coverage (< 80 % TSDoc) or lint thresholds not met.

### 2.4 Naming & Convention Guides
Add `/docs/development/conventions` covering:
- File, folder & component naming
- DB table/column/index naming
- tRPC route & REST endpoint naming
- Commit & branch naming patterns

### 2.5 PRP & Template Standardisation
Store PRP templates (feature overview, tech requirements, acceptance criteria, testing strategy) in `/docs/prps/templates`.  
Active PRPs drive current sprint; archive closed items for reference.

### 2.6 Context‑Driven Docs for Multiple Audiences
Create audience‑lenses (`developers`, `architects`, `ops`, `product`) under each feature folder to present relevant slices of the same truth.

---

## 3. Revised Quick Wins (≤ 2 weeks)
1. **Extend folder structure** with `/features`, `/prps`, `/api/trpc`, `/api/schemas`.
2. **Introduce `.claude.md`** root context file.
3. **Adopt MADR template** with sequential IDs (ADR‑0001…). Add ≥ 5 new ADRs.
4. **Configure docs CI** to run Vale, Markdownlint, link‑checker.
5. **Autogenerate OpenAPI** from tRPC via `openapi-zod`. Publish on Swagger UI.
6. **Purge repository debris** (`.DS_Store`, temp files) and update `.gitignore`.

---

## 4. Expanded Strategic Increments (1–3 months)
| Goal | Deliverable | Benefit |
|------|-------------|---------|
| **Living Docs** | Doctest execution on Markdown code blocks | Guarantees docs run as advertised |
| **Embeddings Index** | Chroma vector DB re‑indexed on merge | Claude Code gets fresh, chunked context |
| **Storybook 8 catalogue** | MDX stories + Playroom | Fast visual feedback; UI PRPs |
| **Coverage Dashboards** | CI badge for TSDoc %, ADR count | Visible doc health metrics |
| **Auto‑doc Bot** | CodeDocSync PRs for missing docstrings | Cuts documentation debt by ≥ 30 % |

---

## 5. Long‑Term Roadmap (3–6 months)
1. **Contextual Lenses** – generate role‑specific doc sites (dev / ops / product) from single source.
2. **AI Consistency Checks** – LLM‑powered doc linting for logic gaps & outdated references.
3. **Event‑Driven Specifications** – AsyncAPI for Redis streams / WebSockets.
4. **Design Tokens Storybook** – automated extraction & Figma sync.
5. **On‑call Runbooks** – embed incident playbooks under `/docs/ops` with SRE guidance.

---

## 6. Actionable Checklist
- [ ] Create extended folder structure & templates
- [ ] `.claude.md` with stack + patterns
- [ ] CI: Vale, Markdownlint, link‑checker, doctest
- [ ] Autogenerated OpenAPI + Swagger UI
- [ ] Storybook MDX catalogue online
- [ ] Embeddings pipeline integrated
- [ ] ≥ 20 ADRs MADR format
- [ ] Documentation coverage dashboards
- [ ] Repository clean / `.gitignore` updated

-- end --
